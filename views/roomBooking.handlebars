<!DOCTYPE html>
<head>
  <meta charset="UTF-8">
  <title>{{pageTitle}}</title>
  <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/main.min.css" rel="stylesheet">
  {{!-- <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/main.min.js"></script> --}}
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="/public/js/rooms.js" defer></script>
</head>

  <body>
    <h1>{{pageTitle}}</h1>
        {{#if success}}
            <div class="success-message">
                {{successMessage}}
            </div>
        {{/if}}
        {{#if hasErrors}}
      <ul class="error-list">
          {{#each errors}}
          <li>
          {{this}}
          </li>
          {{/each}}
      </ul>
    {{/if}}
    <div style="padding: 20px;">
      <div id='room_calendar' data-room_id="{{_id}}"></div>
    </div>
    {{#if isAdmin}}
    <form action="/rooms/{{roomId}}/bookingRoom" method="POST" class="bookingForm" id="bookingForm">
      <input type="hidden" name="roomId" value="{{roomId}}">
      <label for="checkIn">Check-in Date:</label>
      <input type="date" id="checkIn" name="checkIn" required><br>

      <label for="checkOut">Check-out Date:</label>
      <input type="date" id="checkOut" name="checkOut" required><br>

      <label for="roomNumber">Room Number(s):</label>
      <input type="text" id="roomNumber" name="roomNumber" value="{{roomName}}"><br>

      <div class="parking-div">
          <label for="parking">Will you use parking?</label>
          <input type="checkbox" id="parking" name="parking"><br>
      </div>

      <label for="numOfGuests">Number of Guests:</label>
      <input type="number" id="numOfGuests" name="numOfGuests" min="1" required><br>

      <label for="guestFirstName">First Name:</label>
      <textarea id="guestFirstName" name="guestFirstName" placeholder="Enter First Name(s)" required></textarea><br>

      
      <label for="guestLastName">Last Name:</label>
      <textarea id="guestLastName" name="guestLastName" placeholder="Enter Last Name(s)" required></textarea><br>

      <label for="govID">Government ID:</label>
      <textarea id="govID" name="govID" placeholder="Enter your Government ID" required></textarea><br>

      <label for="age">Age:</label>
      <input  type="number" id="age" name="age" placeholder="age" min="1" required><br>

      <label for="phone">Phone Number:<br><small>Format: ###-###-####</small></label>
      <input type="tel" id="phone" name="phone" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" minlength="10" required><br>

      <label for="email">Email:</label>
      <input type="email" id="email" name="email" required><br>

      <button type="submit">Book Now</button>
    </form>
    {{/if}}
    
    <ul id="newBooking"> </ul>
  </body>
</html>
<script src="/public/js/rooms.js" defer></script>